var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},o={},t={},d=e.parcelRequire62bd;null==d&&((d=function(e){if(e in o)return o[e].exports;if(e in t){var d=t[e];delete t[e];var i={id:e,exports:{}};return o[e]=i,d.call(i.exports,i,i.exports),i.exports}var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}).register=function(e,o){t[e]=o},e.parcelRequire62bd=d),d.register("8IXMh",(function(e,o){var t,i,n,r;t=e.exports,i="addToggleModal",n=function(){return m},Object.defineProperty(t,i,{get:n,set:r,enumerable:!0,configurable:!0});var a=d("3ILHO");d("blmqA");var l=d("gIXsy");d("24ni3");var c=d("31AGq"),u=(d("31AGq"),c=d("31AGq"),d("dd0jq"));const s=new(0,d("adAgQ").Loader);new(0,l.FetchApiMovies);function m(){const e={modalOpen:document.querySelectorAll("[data-modal-open]"),modalClose:document.querySelector("[data-modal-close]"),modalBackdrop:document.querySelector(".modal-movie__backdrop")};function o(){e.modalBackdrop.classList.remove("modal-movie__backdrop--is-hidden"),window.addEventListener("keydown",d)}function t(){e.modalBackdrop.classList.add("modal-movie__backdrop--is-hidden")}function d(e){"Escape"===e.code&&t()}e.modalOpen.forEach((e=>{e.addEventListener("click",o)})),e.modalClose.addEventListener("click",t),e.modalBackdrop.addEventListener("click",(function(e){e.target==e.currentTarget&&t()}))}const v=document.querySelector(".modal-movie__poster--img"),L=document.querySelector(".modal-movie__title"),f=document.querySelector(".modal-movie__vote"),_=document.querySelector(".modal-movie__votes"),q=document.querySelector(".modal-movie__popularity"),p=document.querySelector(".modal-movie__original-title"),y=document.querySelector(".modal-movie__genre"),h=document.querySelector(".modal-movie__text"),b=document.querySelector(".modal-movie__button--watched"),g=document.querySelector(".modal-movie__button--queue");document.querySelectorAll(".movie-card__item").forEach((e=>{var o,t;e.addEventListener("click",(o=>{v.src="",L.innerHTML="",f.innerHTML="",_.innerHTML="",q.innerHTML="",p.innerHTML="",y.innerHTML="",h.innerHTML="",b.dataset.id="",g.dataset.id="",o.preventDefault();const t=e.dataset.id;getMovieDetails(t);s.off()}));const d=l.FetchApiMovies.getMovieDetails(id);console.log(d);let i=!1,n=!1;null===(o=(0,c.load)("watchedList"))||void 0===o||o.forEach((e=>{e.id==id&&(i=!0)})),null===(t=(0,c.load)("queueList"))||void 0===t||t.forEach((e=>{e.id==id&&(n=!0)}));let r=document.querySelector("modal-movie__button--watched"),m=document.querySelector("modal-movie__button--queue");i&&(r.innerHTML="On List"),n&&(m.innerHTML="On List");const w=(e,o,t)=>{let d;null!=t&&("watched"===t?d=i:"queue"===t&&(d=n),d?((0,c.removeFromLibrary)(id,o),e.innerHTML=`Add to ${t}`):((0,c.addToLibrary)(id,o),e.innerHTML="Added"),"watched"===t?i=!i:"queue"===t&&(n=!n))};r.addEventListener("click",(()=>{if(w(r,"watchedList","watched"),document.location.href.includes("library")&&"watched"===a.refs.moviesList.dataset.listtype){let e=(0,c.load)("watchedList");(0,u.getAllLibraryMovies)(e,"watchedList")}})),m.addEventListener("click",(()=>{if(w(m,"queueList","queue"),document.location.href.includes("library")&&"queue"===a.refs.moviesList.dataset.listtype){let e=(0,c.load)("queueList");(0,u.getAllLibraryMovies)(e,"queueList")}}))}))}));
//# sourceMappingURL=library.5b027d5d.js.map
