{"mappings":"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","sources":["src/index.js","src/js/components/searchMovie.js","src/js/components/pagination.js","src/js/templates/footer.js"],"sourcesContent":["import { getGenresIdsList } from './js/api/getGenresIdsList';\nimport { getTrending, getSearch, getMovieDetails } from './js/api/fetchMovies';\nimport { renderMoviesList } from './js/templates/renderMovies';\nimport { onSearchFormButtonClick } from './js/components/searchMovie';\nimport { setPagination } from './js/components/pagination';\nimport { addToggleModal } from './js/components/modal';\nimport './js/templates/footer';\nimport { refs } from './js/refs/refs';\nimport { FetchApiMovies } from './js/api/fetchMovies';\nimport { Loader } from './js/components/loader';\nconst fetchApiMovies = new FetchApiMovies();\nconst loader = new Loader();\n\nlet page = 1;\n\nasync function showTrendingMovies(page) {\n  const genresList = await getGenresIdsList();\n\n  const response = await fetchApiMovies.getTrending(page);\n  const movies = await response.results;\n\n  renderMoviesList(movies, genresList);\n  setPagination(page);\n  loader.off();\n}\n\nconst showMoviesAndModal = showTrendingMovies(1).then(() => {\n  addToggleModal();\n});\n\nexport { showTrendingMovies };\n\n// close welcome modal\nsetTimeout(() => {\n  document.querySelector('.welcome-overlay').classList.add('off');\n  document.querySelector('.welcome-text').classList.add('off');\n}, 700);\n","import { refs } from '../refs/refs';\nimport { getGenresIdsList } from '../api/getGenresIdsList';\nimport { FetchApiMovies } from '../api/fetchMovies';\nimport { renderMoviesList } from '../templates/renderMovies';\nimport { addToggleModal } from '../components/modal';\nimport { Loader } from './loader';\n\nexport { onSearchFormButtonClick };\n\nconst loader = new Loader();\nconst fetchApiMovies = new FetchApiMovies();\n\nrefs.searchForm.addEventListener('submit', onSearchFormButtonClick);\n\nasync function onSearchFormButtonClick(element) {\n  element.preventDefault();\n\n  loader.on();\n\n  const genresList = await getGenresIdsList();\n  const query = refs.formInput.value.trim();\n  const response = await fetchApiMovies.getSearch(query, 1);\n  const movies = await response.results;\n\n  refs.formInput.value = '';\n\n  if (movies.length === 0) {\n    loader.off();\n    refs.notification.classList.remove('off');\n    setTimeout(() => {\n      refs.notification.classList.add('off');\n    }, 2000);\n    return;\n  }\n\n  renderMoviesList(movies, genresList);\n  addToggleModal();\n\n  refs.paginationContainer.innerHTML = '';\n  loader.off();\n}\n","import { refs } from '../refs/refs';\nimport { FetchApiMovies } from '../api/fetchMovies';\nimport { showTrendingMovies } from '../../index.js';\nconst fetchApiMovies = new FetchApiMovies();\n\nexport async function setPagination(page) {\n  refs.paginationNumbers.innerHTML = '';\n  const response = await fetchApiMovies.getTrending(page);\n  const totalNumberOfPages = await response.total_pages;\n  let currentPage = await response.page;\n  let paginationMArkup = '';\n\n  if (currentPage > 1) {\n    paginationMArkup += `<button type=\"button\" class=\"pagination-container__prev-button\">\n    &#8656\n</button>`;\n  }\n\n  for (let i = 1; i <= totalNumberOfPages; i += 1) {\n    if (\n      i == 1 ||\n      i == totalNumberOfPages ||\n      i == currentPage ||\n      (i > currentPage && i <= currentPage + 2) ||\n      (i < currentPage && i >= currentPage - 2) ||\n      (currentPage == 1 && totalNumberOfPages > 4 && i < 8) ||\n      (currentPage == 2 && totalNumberOfPages > 5 && i < 8) ||\n      (currentPage == 3 && totalNumberOfPages > 6 && i < 8) ||\n      (currentPage == 4 && totalNumberOfPages > 7 && i < 8) ||\n      (currentPage == totalNumberOfPages &&\n        totalNumberOfPages > 7 &&\n        i > totalNumberOfPages - 7) ||\n      (currentPage == totalNumberOfPages - 1 &&\n        totalNumberOfPages > 7 &&\n        i > totalNumberOfPages - 7) ||\n      (currentPage == totalNumberOfPages - 2 &&\n        totalNumberOfPages > 7 &&\n        i > totalNumberOfPages - 7) ||\n      (currentPage == totalNumberOfPages - 3 &&\n        totalNumberOfPages > 7 &&\n        i > totalNumberOfPages - 7)\n    ) {\n      paginationMArkup += `<button type=\"button\" class=\"pagination-container__button\" data-id=\"${i}\">${i}</button>`;\n    }\n  }\n  if (totalNumberOfPages > 2 && totalNumberOfPages !== currentPage) {\n    paginationMArkup += `<button type=\"button\" class=\"pagination-container__next-button\">&#8658\n    </button>`;\n  }\n\n  refs.paginationNumbers.innerHTML = paginationMArkup;\n\n  const paginationButtons = document.querySelectorAll(\n    '.pagination-numbers button'\n  );\n\n  function createDotsbuttons() {\n    const firstDotButtonLocation = document.querySelector(\n      'button[data-id=\"1\"]'\n    );\n    const lastDotButtonLocation = document.querySelector(\n      `button[data-id=\"${totalNumberOfPages}\"`\n    );\n    const firstDotButton = document.createElement('button');\n    firstDotButton.textContent = '...';\n    firstDotButton.classList.add('pagination-container__first-dot-button');\n    const lastDotButton = document.createElement('button');\n    lastDotButton.textContent = '...';\n    lastDotButton.classList.add('pagination-container__last-dot-button');\n\n    if (currentPage > 4) {\n      firstDotButtonLocation.after(firstDotButton);\n    }\n\n    if (currentPage < totalNumberOfPages - 3)\n      lastDotButtonLocation.before(lastDotButton);\n  }\n  createDotsbuttons();\n\n  handleActiveButton = () => {\n    paginationButtons.forEach(button => {\n      button.classList.remove('pagination-container__button--active');\n      let pageIndex = button.textContent;\n      if (pageIndex == currentPage) {\n        button.classList.add('pagination-container__button--active');\n      }\n    });\n  };\n\n  handleActiveButton();\n\n  paginationButtons.forEach(button => {\n    button.addEventListener('click', event => {\n      if (event.target.classList.contains('pagination-container__button')) {\n        let pageNumber = event.target.textContent;\n        showTrendingMovies(pageNumber);\n      } else if (\n        event.target.classList.contains('pagination-container__prev-button')\n      ) {\n        currentPage--;\n        showTrendingMovies(currentPage);\n      } else if (\n        event.target.classList.contains('pagination-container__next-button')\n      ) {\n        currentPage++;\n        showTrendingMovies(currentPage);\n      }\n    });\n  });\n}\n","document.getElementById('year').innerHTML = new Date().getFullYear();\n\nconst footerBntRef = document.querySelector('.footer__button');\nconst modalRef = document.querySelector('[data-modal-team]');\nconst closeModalBtnRef = document.querySelector('[data-modal-team-close]');\nconst bodyRef = document.querySelector('body');\nconst footerRef = document.querySelector('.footer');\n\nfunction toggleModalTeam() {\n  modalRef.classList.toggle('is-hidden');\n  bodyRef.classList.toggle('no-scroll');\n}\n\nfooterBntRef.addEventListener('click', toggleModalTeam);\n\ncloseModalBtnRef.addEventListener('click', toggleModalTeam);\n\nfunction onCloseModal(event) {\n  if (event.code === 'Escape') {\n      instance.close();\n      window.removeEventListener('keydown', onCloseModal)\n  };\n};"],"names":["$blmqA","parcelRequire","$3ILHO","$8a6e8bbee42bcf1d$var$loader","Loader","$8a6e8bbee42bcf1d$var$fetchApiMovies","$gIXsy","FetchApiMovies","refs","searchForm","addEventListener","async","element","preventDefault","on","genresList","getGenresIdsList","query","formInput","value","trim","response","getSearch","movies","results","length","off","notification","classList","remove","setTimeout","add","$24ni3","renderMoviesList","$8IXMh","addToggleModal","paginationContainer","innerHTML","$89f896eead6f17ea$var$fetchApiMovies","$89f896eead6f17ea$export$347aea62317e2398","page","paginationNumbers","getTrending","totalNumberOfPages","total_pages","currentPage","paginationMArkup","i","paginationButtons","document","querySelectorAll","firstDotButtonLocation","querySelector","lastDotButtonLocation","firstDotButton","createElement","textContent","lastDotButton","after","before","createDotsbuttons","handleActiveButton","forEach","button","event","target","contains","$1f0dc3b9307be026$export$2e39d0d53b532317","getElementById","Date","getFullYear","$aa7878d9792a3a69$var$footerBntRef","$aa7878d9792a3a69$var$modalRef","$aa7878d9792a3a69$var$closeModalBtnRef","$aa7878d9792a3a69$var$bodyRef","$aa7878d9792a3a69$var$toggleModalTeam","toggle","$1f0dc3b9307be026$var$fetchApiMovies","$1f0dc3b9307be026$var$loader","$adAgQ","then"],"version":3,"file":"index.e6408b5e.js.map"}