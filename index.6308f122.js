!function(){var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},e={},n={},o=t.parcelRequire62bd;null==o&&((o=function(t){if(t in e)return e[t].exports;if(t in n){var o=n[t];delete n[t];var a={id:t,exports:{}};return e[t]=a,o.call(a.exports,a,a.exports),a.exports}var r=new Error("Cannot find module '"+t+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(t,e){n[t]=e},t.parcelRequire62bd=o);var a=o("7pbsT"),r=o("4tSb9"),i=o("1fAZO"),c=o("lfqeF"),s=o("jPljR"),u=(a=o("7pbsT"),r=o("4tSb9"),o("cqmI4")),d=(i=o("1fAZO"),c=o("lfqeF"),s=o("jPljR"),o("8BR1R")),l=new(0,(T=o("iPy5Q")).Loader),f=new(0,c.FetchApiMovies);function m(){return(m=(0,a.default)((function(t){var e,n,o;return(0,r.__generator)(this,(function(a){switch(a.label){case 0:return t.preventDefault(),l.on(),[4,(0,i.getGenresIdsList)()];case 1:return e=a.sent(),n=u.refs.formInput.value.trim(),[4,f.getSearch(n,1)];case 2:return[4,a.sent().results];case 3:return o=a.sent(),u.refs.formInput.value="",0===o.length?(l.off(),u.refs.notification.classList.remove("off"),setTimeout((function(){u.refs.notification.classList.add("off")}),2e3),[2]):((0,s.renderMoviesList)(o,e),(0,d.addToggleModal)(),u.refs.paginationContainer.innerHTML="",l.off(),[2])}}))}))).apply(this,arguments)}u.refs.searchForm.addEventListener("submit",(function(t){return m.apply(this,arguments)}));a=o("7pbsT"),r=o("4tSb9"),u=o("cqmI4");var g=new(0,(c=o("lfqeF")).FetchApiMovies);function p(t){return b.apply(this,arguments)}function b(){return(b=(0,a.default)((function(t){var e,n,o,a,i,c;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return u.refs.paginationNumbers.innerHTML="",[4,g.getTrending(t)];case 1:return[4,(e=r.sent()).total_pages];case 2:return n=r.sent(),[4,e.page];case 3:for(o=r.sent(),a="",o>1&&(a+='<button type="button" class="pagination-container__prev-button">\n    &#8656\n</button>'),i=1;i<=n;i+=1)(1==i||i==n||i==o||i>o&&i<=o+2||i<o&&i>=o-2||1==o&&n>4&&i<8||2==o&&n>5&&i<8||3==o&&n>6&&i<8||4==o&&n>7&&i<8||o==n&&n>7&&i>n-7||o==n-1&&n>7&&i>n-7||o==n-2&&n>7&&i>n-7||o==n-3&&n>7&&i>n-7)&&(a+='<button type="button" class="pagination-container__button" data-id="'.concat(i,'">').concat(i,"</button>"));return n>2&&n!==o&&(a+='<button type="button" class="pagination-container__next-button">&#8658\n    </button>'),u.refs.paginationNumbers.innerHTML=a,c=document.querySelectorAll(".pagination-numbers button"),function(){var t=document.querySelector('button[data-id="1"]'),e=document.querySelector('button[data-id="'.concat(n,'"')),a=document.createElement("button");a.textContent="...",a.classList.add("pagination-container__first-dot-button");var r=document.createElement("button");r.textContent="...",r.classList.add("pagination-container__last-dot-button"),o>4&&t.after(a),o<n-3&&e.before(r)}(),handleActiveButton=function(){c.forEach((function(t){t.classList.remove("pagination-container__button--active"),t.textContent==o&&t.classList.add("pagination-container__button--active")}))},handleActiveButton(),c.forEach((function(t){t.addEventListener("click",(function(t){t.target.classList.contains("pagination-container__button")?A(t.target.textContent):t.target.classList.contains("pagination-container__prev-button")?A(--o):t.target.classList.contains("pagination-container__next-button")&&A(++o)}))})),[2]}}))}))).apply(this,arguments)}d=o("8BR1R");document.getElementById("year").innerHTML=(new Date).getFullYear();var h=document.querySelector(".footer__button"),v=document.querySelector("[data-modal-team]"),y=document.querySelector("[data-modal-team-close]"),L=document.querySelector("body");document.querySelector(".footer");function _(){v.classList.toggle("is-hidden"),L.classList.toggle("no-scroll")}v.addEventListener("click",(function(t){t.target==t.currentTarget&&(v.classList.toggle("is-hidden"),document.body.classList.toggle("js-modal-is-hidden"),isShow?document.body.removeEventListener("keydown",onKeyDown):document.body.addEventListener("keydown",onKeyDown),isShow=!isShow)})),h.addEventListener("click",_),y.addEventListener("click",_);var w=document.querySelector('.theme-switch input[type="checkbox"]'),S=localStorage.getItem("theme"),q="light",E="dark";S&&(document.documentElement.setAttribute("data-theme",S),S===E&&(w.checked=!0)),w.addEventListener("change",(function(t){t.target.checked?(document.documentElement.setAttribute("data-theme",E),localStorage.setItem("theme",E)):(document.documentElement.setAttribute("data-theme",q),localStorage.setItem("theme",q))}),!1),o("cqmI4");c=o("lfqeF");var T=o("iPy5Q"),x=new(0,c.FetchApiMovies),M=new(0,T.Loader);function A(t){return I.apply(this,arguments)}function I(){return(I=(0,a.default)((function(t){var e,n;return(0,r.__generator)(this,(function(o){switch(o.label){case 0:return[4,(0,i.getGenresIdsList)()];case 1:return e=o.sent(),[4,x.getTrending(t)];case 2:return[4,o.sent().results];case 3:return n=o.sent(),(0,s.renderMoviesList)(n,e),p(t),M.off(),[2]}}))}))).apply(this,arguments)}A(1).then((function(){(0,d.addToggleModal)()}));setTimeout((function(){document.querySelector(".welcome-overlay").classList.add("off"),document.querySelector(".welcome-text").classList.add("off")}),700)}();
//# sourceMappingURL=index.6308f122.js.map
