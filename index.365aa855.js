!function(){var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},r=e.parcelRequire62bd;null==r&&((r=function(e){if(e in t)return t[e].exports;if(e in n){var r=n[e];delete n[e];var o={id:e,exports:{}};return t[e]=o,r.call(o.exports,o,o.exports),o.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){n[e]=t},e.parcelRequire62bd=r);var o=r("7pbsT"),i=r("4tSb9"),a=r("1fAZO"),s=r("lfqeF"),c=r("jPljR"),u=(o=r("7pbsT"),i=r("4tSb9"),r("cqmI4")),l=(a=r("1fAZO"),s=r("lfqeF"),c=r("jPljR"),r("8BR1R")),d=new(0,(q=r("iPy5Q")).Loader),f=new(0,s.FetchApiMovies);function p(){return(p=(0,o.default)((function(e){var t,n,r;return(0,i.__generator)(this,(function(o){switch(o.label){case 0:return e.preventDefault(),d.on(),[4,(0,a.getGenresIdsList)()];case 1:return t=o.sent(),n=u.refs.formInput.value.trim(),[4,f.getSearch(n,1)];case 2:return[4,o.sent().results];case 3:return r=o.sent(),u.refs.formInput.value="",0===r.length?(d.off(),u.refs.notification.classList.remove("off"),setTimeout((function(){u.refs.notification.classList.add("off")}),2e3),[2]):((0,c.renderMoviesList)(r,t),(0,l.addToggleModal)(),u.refs.paginationContainer.innerHTML="",d.off(),[2])}}))}))).apply(this,arguments)}u.refs.searchForm.addEventListener("submit",(function(e){return p.apply(this,arguments)}));o=r("7pbsT"),i=r("4tSb9"),u=r("cqmI4");var v=new(0,(s=r("lfqeF")).FetchApiMovies);function b(e){return m.apply(this,arguments)}function m(){return(m=(0,o.default)((function(e){var t,n,r,o,a,s,c,l;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return[4,v.getTrending(e)];case 1:return[4,(t=i.sent()).total_pages];case 2:return n=i.sent(),[4,t.page];case 3:for(r=i.sent(),o="",a=1;a<=n;a+=1)(1==a||a==n||a==r||a>r&&a<=r+2||a<r&&a>=r-2||1==r&&n>4&&a<8||2==r&&n>5&&a<8||3==r&&n>6&&a<8||4==r&&n>7&&a<7||r==n&&n>7&&a>n-7||r==n-1&&n>7&&a>n-7||r==n-2&&n>7&&a>n-7)&&(o+='<button class="pagination-container__button" data-id="'.concat(a,'">').concat(a,"</button>"));return u.refs.paginationContainer.innerHTML=o,s=document.querySelectorAll(".pagination-numbers button"),n>1&&(u.refs.prevButton.removeAttribute("hidden"),u.refs.nextButton.removeAttribute("hidden")),function(){var e=document.querySelector('button[data-id="1"]'),t=document.querySelector('button[data-id="'.concat(n,'"')),o=document.createElement("button");o.textContent="...",o.classList.add("pagination-container__first-dot-button");var i=document.createElement("button");i.textContent="...",i.classList.add("pagination-container__last-dot-button"),r>3&&e.after(o),r<=n-3&&t.before(i)}(),handleActiveButton=function(){s.forEach((function(e){e.classList.remove("pagination-container__button--active"),e.textContent==r&&e.classList.add("pagination-container__button--active")}))},c=function(e){e.classList.add("disabled"),e.setAttribute("disabled",!0)},l=function(e){e.classList.remove("disabled"),e.removeAttribute("disabled")},u.refs.nextButton.addEventListener("click",(function(){x(++r)})),u.refs.prevButton.addEventListener("click",(function(){x(--r)})),1==r?(c(u.refs.prevButton),u.refs.prevButton.style.opacity="0.4"):(l(u.refs.prevButton),u.refs.prevButton.style.opacity="1"),r==n?(c(u.refs.nextButton),u.refs.nextButton.style.opacity="0.4"):(l(u.refs.nextButton),u.refs.nextButton.style.opacity="1"),handleActiveButton(),s.forEach((function(e){e.addEventListener("click",(function(e){var t=e.target.textContent;console.log(t),x(t)}))})),[2]}}))}))).apply(this,arguments)}l=r("8BR1R");document.getElementById("year").innerHTML=(new Date).getFullYear();var g=document.querySelector(".footer__button"),y=document.querySelector("[data-modal-team]"),h=document.querySelector("[data-modal-team-close]"),L=document.querySelector("body");document.querySelector(".footer");function _(){y.classList.toggle("is-hidden"),L.classList.toggle("no-scroll")}g.addEventListener("click",_),h.addEventListener("click",_);s=r("lfqeF");var q=r("iPy5Q"),w=new(0,s.FetchApiMovies),B=new(0,q.Loader);function x(e){return T.apply(this,arguments)}function T(){return(T=(0,o.default)((function(e){var t,n;return(0,i.__generator)(this,(function(r){switch(r.label){case 0:return[4,(0,a.getGenresIdsList)()];case 1:return t=r.sent(),[4,w.getTrending(e)];case 2:return[4,r.sent().results];case 3:return n=r.sent(),(0,c.renderMoviesList)(n,t),b(e),B.off(),[2]}}))}))).apply(this,arguments)}x(1).then((function(){(0,l.addToggleModal)()}));setTimeout((function(){document.querySelector(".welcome-overlay").classList.add("off"),document.querySelector(".welcome-text").classList.add("off")}),700)}();
//# sourceMappingURL=index.365aa855.js.map
