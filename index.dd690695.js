!function(){var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},e={},n={},r=t.parcelRequire62bd;null==r&&((r=function(t){if(t in e)return e[t].exports;if(t in n){var r=n[t];delete n[t];var o={id:t,exports:{}};return e[t]=o,r.call(o.exports,o,o.exports),o.exports}var i=new Error("Cannot find module '"+t+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(t,e){n[t]=e},t.parcelRequire62bd=r);var o=r("7pbsT"),i=r("4tSb9"),a=r("1fAZO"),s=r("lfqeF"),u=r("jPljR"),c=(o=r("7pbsT"),i=r("4tSb9"),r("cqmI4")),l=(a=r("1fAZO"),s=r("lfqeF"),u=r("jPljR"),r("8BR1R")),d=new(0,r("iPy5Q").Loader),f=new(0,s.FetchApiMovies);function p(){return(p=(0,o.default)((function(t){var e,n,r;return(0,i.__generator)(this,(function(o){switch(o.label){case 0:return t.preventDefault(),d.on(),[4,(0,a.getGenresIdsList)()];case 1:return e=o.sent(),n=c.refs.formInput.value.trim(),[4,f.getSearch(n,1)];case 2:return[4,o.sent().results];case 3:return r=o.sent(),c.refs.formInput.value="",0===r.length?(d.off(),c.refs.notification.classList.remove("off"),setTimeout((function(){c.refs.notification.classList.add("off")}),2e3),[2]):((0,u.renderMoviesList)(r,e),(0,l.addToggleModal)(),c.refs.paginationContainer.innerHTML="",d.off(),[2])}}))}))).apply(this,arguments)}c.refs.searchForm.addEventListener("submit",(function(t){return p.apply(this,arguments)}));o=r("7pbsT"),i=r("4tSb9"),c=r("cqmI4");var v=new(0,(s=r("lfqeF")).FetchApiMovies);function b(t){return g.apply(this,arguments)}function g(){return(g=(0,o.default)((function(t){var e,n,r,o,a,s,u,l;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return[4,v.getTrending(t)];case 1:return[4,(e=i.sent()).total_pages];case 2:return n=i.sent(),[4,e.page];case 3:for(r=i.sent(),o="",a=1;a<=n;a+=1)(1==a||a==n||a==r||a>r&&a<=r+2||a<r&&a>=r-2||1==r&&n>4&&a<8||2==r&&n>5&&a<8||3==r&&n>6&&a<8||4==r&&n>7&&a<7||r==n&&n>7&&a>n-7||r==n-1&&n>7&&a>n-7||r==n-2&&n>7&&a>n-7)&&(o+='<button class="pagination-container__button" data-id="'.concat(a,'">').concat(a,"</button>"));return c.refs.paginationContainer.innerHTML=o,s=document.querySelectorAll(".pagination-numbers button"),n>1&&(c.refs.prevButton.removeAttribute("hidden"),c.refs.nextButton.removeAttribute("hidden")),function(){var t=document.querySelector('button[data-id="1"]'),e=document.querySelector('button[data-id="'.concat(n,'"')),o=document.createElement("button");o.textContent="...",o.classList.add("pagination-container__first-dot-button");var i=document.createElement("button");i.textContent="...",i.classList.add("pagination-container__last-dot-button"),r>3&&t.after(o),r<=n-3&&e.before(i)}(),handleActiveButton=function(){s.forEach((function(t){t.classList.remove("pagination-container__button--active"),t.textContent==r&&t.classList.add("pagination-container__button--active")}))},u=function(t){t.classList.add("disabled"),t.setAttribute("disabled",!0)},l=function(t){t.classList.remove("disabled"),t.removeAttribute("disabled")},c.refs.nextButton.addEventListener("click",(function(){q(++r)})),c.refs.prevButton.addEventListener("click",(function(){q(--r)})),1==r?(u(c.refs.prevButton),c.refs.prevButton.style.opacity="0.4"):(l(c.refs.prevButton),c.refs.prevButton.style.opacity="1"),r==n?(u(c.refs.nextButton),c.refs.nextButton.style.opacity="0.4"):(l(c.refs.nextButton),c.refs.nextButton.style.opacity="1"),handleActiveButton(),s.forEach((function(t){t.addEventListener("click",(function(t){var e=t.target.textContent;console.log(e),q(e)}))})),[2]}}))}))).apply(this,arguments)}l=r("8BR1R");document.getElementById("year").innerHTML=(new Date).getFullYear();var m=document.querySelector(".footer__button"),y=document.querySelector("[data-modal-team]"),h=document.querySelector("[data-modal-team-close]"),L=document.querySelector("body");document.querySelector(".footer");function _(){y.classList.toggle("is-hidden"),L.classList.toggle("no-scroll")}m.addEventListener("click",_),h.addEventListener("click",_);var B=new(0,(s=r("lfqeF")).FetchApiMovies);function q(t){return x.apply(this,arguments)}function x(){return(x=(0,o.default)((function(t){var e,n;return(0,i.__generator)(this,(function(r){switch(r.label){case 0:return[4,(0,a.getGenresIdsList)()];case 1:return e=r.sent(),[4,B.getTrending(t)];case 2:return[4,r.sent().results];case 3:return n=r.sent(),(0,u.renderMoviesList)(n,e),b(t),[2]}}))}))).apply(this,arguments)}q(1).then((function(){(0,l.addToggleModal)()}))}();
//# sourceMappingURL=index.dd690695.js.map
