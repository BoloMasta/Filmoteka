{"mappings":"oeAAAA,EAAA,a,wBAEuB,IAAI,EAAAC,EAAAC","sources":["src/js/components/pagination.js"],"sourcesContent":["import { refs } from '../refs/refs';\nimport { FetchApiMovies } from '../api/fetchMovies';\nconst fetchApiMovies = new FetchApiMovies();\nimport { showTrendingMovies } from '../../index.js';\n\nexport async function setPagination(page) {\n  const response = await fetchApiMovies.getTrending(page);\n  const totalNumberOfPages = await response.total_pages;\n  let currentPage = await response.page;\n  let paginationMArkup = '';\n\n  for (let i = 1; i <= totalNumberOfPages; i += 1) {\n    paginationMArkup += `<button class=\"pagination-container__button\" data-id=\"${i}\">${i}</button>`;\n  }\n\n  refs.paginationContainer.innerHTML = paginationMArkup;\n  const paginationButtons = document.querySelectorAll(\n    '.pagination-numbers button'\n  );\n\n  handleActiveButton = () => {\n    paginationButtons.forEach((button) => {\n\n        button.classList.remove('pagination-container__button--active');\n        let pageIndex = button.textContent;\n        if(pageIndex == currentPage) {\n            button.classList.add('pagination-container__button--active')}\n    })\n}\n\nconst disableButton = (button) => {\n  button.classList.add(\"disabled\");\n  button.setAttribute(\"disabled\", true);\n};\n \nconst enableButton = (button) => {\n  button.classList.remove(\"disabled\");\n  button.removeAttribute(\"disabled\");\n};\n\n\n    refs.nextButton.addEventListener(\"click\", () => {\n      currentPage ++;\n      showTrendingMovies(currentPage)\n\n    });\n\n    refs.prevButton.addEventListener(\"click\", () => {\n      currentPage --;\n       showTrendingMovies(currentPage);\n        \n            });\n\n            if(currentPage == 1) {\n              disableButton(refs.prevButton)\n            }\n            else {enableButton(refs.prevButton)}; \n\n              if(currentPage == totalNumberOfPages) {\n                disableButton(refs.nextButton)\n              }\n              else {enableButton(refs.nextButton)}\n\n\nhandleActiveButton(); \n\n\n  paginationButtons.forEach(button => {\n    button.addEventListener('click', (event) => {\n      const pageNumber = event.target.textContent;\n      console.log(pageNumber)\n      showTrendingMovies(pageNumber);\n      ;\n      \n      \n    });\n  });\n}\n\n\n"],"names":["parcelRequire","$gIXsy","FetchApiMovies"],"version":3,"file":"library.f9e081fb.js.map"}