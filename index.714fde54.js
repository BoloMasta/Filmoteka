!function(){var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},e={},n={},o=t.parcelRequire62bd;null==o&&((o=function(t){if(t in e)return e[t].exports;if(t in n){var o=n[t];delete n[t];var a={id:t,exports:{}};return e[t]=a,o.call(a.exports,a,a.exports),a.exports}var r=new Error("Cannot find module '"+t+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(t,e){n[t]=e},t.parcelRequire62bd=o);var a=o("7pbsT"),r=o("4tSb9"),s=o("1fAZO"),i=o("lfqeF"),c=o("jPljR"),u=(a=o("7pbsT"),r=o("4tSb9"),o("cqmI4")),l=(o("1fAZO"),i=o("lfqeF"),o("jPljR"),o("8BR1R")),d=o("iPy5Q"),f=(a=o("7pbsT"),r=o("4tSb9"),u=o("cqmI4"),i=o("lfqeF"),c=o("jPljR"),s=o("1fAZO"),l=o("8BR1R"),new(0,i.FetchApiMovies));function g(t,e){return b.apply(this,arguments)}function b(){return b=(0,a.default)((function(t,e){var n,o,i,d,b,p;return(0,r.__generator)(this,(function(m){switch(m.label){case 0:return u.refs.paginationNumbers.innerHTML="",[4,f.getSearch(t,e)];case 1:return n=m.sent(),console.log(n),[4,n.total_pages];case 2:return o=m.sent(),[4,n.page];case 3:for(i=m.sent(),d="",i>1&&(d+='<button type="button" class="pagination-container__prev-button">\n    &#8656\n</button>'),b=1;b<=o;b+=1)(1==b||b==o||b==i||b>i&&b<=i+2||b<i&&b>=i-2||1==i&&o>4&&b<8||2==i&&o>5&&b<8||3==i&&o>6&&b<8||4==i&&o>7&&b<8||i==o&&o>7&&b>o-7||i==o-1&&o>7&&b>o-7||i==o-2&&o>7&&b>o-7||i==o-3&&o>7&&b>o-7)&&(d+='<button type="button" class="pagination-container__button" data-id="'.concat(b,'">').concat(b,"</button>"));return o>2&&o!==i&&(d+='<button type="button" class="pagination-container__next-button">&#8658\n    </button>'),u.refs.paginationNumbers.innerHTML=d,p=document.querySelectorAll(".pagination-numbers button"),function(){var t=document.querySelector('button[data-id="1"]'),e=document.querySelector('button[data-id="'.concat(o,'"')),n=document.createElement("button");n.textContent="...",n.classList.add("pagination-container__first-dot-button");var a=document.createElement("button");a.textContent="...",a.classList.add("pagination-container__last-dot-button"),i>4&&t.after(n),i<o-3&&e.before(a)}(),p.forEach((function(t){t.classList.remove("pagination-container__button--active"),t.textContent==i&&t.classList.add("pagination-container__button--active")})),p.forEach((function(e){var n;e.addEventListener("click",(n=(0,a.default)((function(e){var n,o,a,u,d,b,p;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return e.target.classList.contains("pagination-container__button")?(n=e.target.textContent,[4,(0,s.getGenresIdsList)()]):[3,4];case 1:return o=r.sent(),[4,f.getSearch(t,n)];case 2:return[4,r.sent().results];case 3:return a=r.sent(),(0,c.renderMoviesList)(a,o),g(t,n),(0,l.addToggleModal)(),[3,12];case 4:return e.target.classList.contains("pagination-container__prev-button")?(i--,[4,(0,s.getGenresIdsList)()]):[3,8];case 5:return u=r.sent(),[4,f.getSearch(t,i)];case 6:return[4,r.sent().results];case 7:return d=r.sent(),(0,c.renderMoviesList)(d,u),g(t,i),(0,l.addToggleModal)(),[3,12];case 8:return e.target.classList.contains("pagination-container__next-button")?(i++,[4,(0,s.getGenresIdsList)()]):[3,12];case 9:return b=r.sent(),[4,f.getSearch(t,i)];case 10:return[4,r.sent().results];case 11:p=r.sent(),(0,c.renderMoviesList)(p,b),g(t,i),(0,l.addToggleModal)(),r.label=12;case 12:return[2]}}))})),function(t){return n.apply(this,arguments)}))})),[2]}}))})),b.apply(this,arguments)}var p=new(0,d.Loader),m=new(0,i.FetchApiMovies);function h(){return(h=(0,a.default)((function(t){var e,n,o;return(0,r.__generator)(this,(function(a){switch(a.label){case 0:return t.preventDefault(),p.on(),[4,(0,s.getGenresIdsList)()];case 1:return e=a.sent(),n=u.refs.formInput.value.trim(),[4,m.getSearch(n,1)];case 2:return[4,a.sent().results];case 3:return 0===(o=a.sent()).length?(p.off(),u.refs.notification.classList.remove("off"),setTimeout((function(){u.refs.notification.classList.add("off")}),2e3),[2]):((0,c.renderMoviesList)(o,e),g(n,1),(0,l.addToggleModal)(),p.off(),[2])}}))}))).apply(this,arguments)}u.refs.searchForm.addEventListener("submit",(function(t){return h.apply(this,arguments)}));a=o("7pbsT"),r=o("4tSb9"),u=o("cqmI4"),i=o("lfqeF"),l=o("8BR1R");var _=new(0,i.FetchApiMovies);function v(t){return y.apply(this,arguments)}function y(){return(y=(0,a.default)((function(t){var e,n,o,a,s,i;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return u.refs.paginationNumbers.innerHTML="",[4,_.getTrending(t)];case 1:return[4,(e=r.sent()).total_pages];case 2:return n=r.sent(),[4,e.page];case 3:for(o=r.sent(),a="",o>1&&(a+='<button type="button" class="pagination-container__prev-button">\n    &#8656\n</button>'),s=1;s<=n;s+=1)(1==s||s==n||s==o||s>o&&s<=o+2||s<o&&s>=o-2||1==o&&n>4&&s<8||2==o&&n>5&&s<8||3==o&&n>6&&s<8||4==o&&n>7&&s<8||o==n&&n>7&&s>n-7||o==n-1&&n>7&&s>n-7||o==n-2&&n>7&&s>n-7||o==n-3&&n>7&&s>n-7)&&(a+='<button type="button" class="pagination-container__button" data-id="'.concat(s,'">').concat(s,"</button>"));return n>2&&n!==o&&(a+='<button type="button" class="pagination-container__next-button">&#8658\n    </button>'),u.refs.paginationNumbers.innerHTML=a,i=document.querySelectorAll(".pagination-numbers button"),function(){var t=document.querySelector('button[data-id="1"]'),e=document.querySelector('button[data-id="'.concat(n,'"')),a=document.createElement("button");a.textContent="...",a.classList.add("pagination-container__first-dot-button");var r=document.createElement("button");r.textContent="...",r.classList.add("pagination-container__last-dot-button"),o>4&&t.after(a),o<n-3&&e.before(r)}(),i.forEach((function(t){t.classList.remove("pagination-container__button--active"),t.textContent==o&&t.classList.add("pagination-container__button--active")})),i.forEach((function(t){t.addEventListener("click",(function(t){t.target.classList.contains("pagination-container__button")?F(t.target.textContent).then((function(){(0,l.addToggleModal)()})):t.target.classList.contains("pagination-container__prev-button")?F(--o).then((function(){(0,l.addToggleModal)()})):t.target.classList.contains("pagination-container__next-button")&&F(++o).then((function(){(0,l.addToggleModal)()}))}))})),[2]}}))}))).apply(this,arguments)}l=o("8BR1R");document.getElementById("year").innerHTML=(new Date).getFullYear();var L=document.querySelector(".footer__button"),S=document.querySelector("[data-modal-team]"),w=document.querySelector("[data-modal-team-close]"),q=document.querySelector("body");document.querySelector(".footer");function T(){S.classList.toggle("is-hidden"),q.classList.toggle("no-scroll")}S.addEventListener("click",(function(t){t.target==t.currentTarget&&(S.classList.toggle("is-hidden"),document.body.classList.toggle("js-modal-is-hidden"),isShow?document.body.removeEventListener("keydown",onKeyDown):document.body.addEventListener("keydown",onKeyDown),isShow=!isShow)})),L.addEventListener("click",T),w.addEventListener("click",T);var E=document.querySelector('.theme-switch input[type="checkbox"]'),M=localStorage.getItem("theme"),x="light",I="dark";M&&(document.documentElement.setAttribute("data-theme",M),M===I&&(E.checked=!0)),E.addEventListener("change",(function(t){t.target.checked?(document.documentElement.setAttribute("data-theme",I),localStorage.setItem("theme",I)):(document.documentElement.setAttribute("data-theme",x),localStorage.setItem("theme",x))}),!1),o("cqmI4");i=o("lfqeF"),d=o("iPy5Q");var R=new(0,i.FetchApiMovies),A=new(0,d.Loader);function F(t){return k.apply(this,arguments)}function k(){return(k=(0,a.default)((function(t){var e,n;return(0,r.__generator)(this,(function(o){switch(o.label){case 0:return[4,(0,s.getGenresIdsList)()];case 1:return e=o.sent(),[4,R.getTrending(t)];case 2:return[4,o.sent().results];case 3:return n=o.sent(),(0,c.renderMoviesList)(n,e),v(t),A.off(),[2]}}))}))).apply(this,arguments)}F(1).then((function(){(0,l.addToggleModal)()}));"alredy shown"!=sessionStorage.getItem("alreadyShow")?(setTimeout((function(){document.querySelector(".welcome-overlay").classList.add("off"),document.querySelector(".welcome-text").classList.add("off")}),1e3),sessionStorage.setItem("alreadyShow","alredy shown")):(A.on(),document.querySelector(".welcome-overlay").classList.add("off"),document.querySelector(".welcome-text").classList.add("off"))}();
//# sourceMappingURL=index.714fde54.js.map
