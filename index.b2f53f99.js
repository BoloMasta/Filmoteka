!function(){var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},e={},n={},a=t.parcelRequire62bd;null==a&&((a=function(t){if(t in e)return e[t].exports;if(t in n){var a=n[t];delete n[t];var o={id:t,exports:{}};return e[t]=o,a.call(o.exports,o,o.exports),o.exports}var r=new Error("Cannot find module '"+t+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(t,e){n[t]=e},t.parcelRequire62bd=a);var o=a("7pbsT"),r=a("4tSb9"),s=a("1fAZO"),i=a("lfqeF"),c=a("jPljR"),u=(o=a("7pbsT"),r=a("4tSb9"),a("cqmI4")),l=(a("1fAZO"),i=a("lfqeF"),a("jPljR"),a("8BR1R")),d=a("iPy5Q"),f=(o=a("7pbsT"),r=a("4tSb9"),u=a("cqmI4"),i=a("lfqeF"),c=a("jPljR"),s=a("1fAZO"),l=a("8BR1R"),new(0,i.FetchApiMovies));function g(t,e){return p.apply(this,arguments)}function p(){return p=(0,o.default)((function(t,e){var n,a,i,d,p,b;return(0,r.__generator)(this,(function(_){switch(_.label){case 0:return u.refs.paginationNumbers.innerHTML="",[4,f.getSearch(t,e)];case 1:return n=_.sent(),console.log(n),[4,n.total_pages];case 2:return a=_.sent(),[4,n.page];case 3:for(i=_.sent(),d="",i>1&&(d+='<button type="button" class="pagination-container__prev-button">\n    &#8656\n</button>'),p=1;p<=a;p+=1)(1==p||p==a||p==i||p>i&&p<=i+2||p<i&&p>=i-2||1==i&&a>4&&p<8||2==i&&a>5&&p<8||3==i&&a>6&&p<8||4==i&&a>7&&p<8||i==a&&a>7&&p>a-7||i==a-1&&a>7&&p>a-7||i==a-2&&a>7&&p>a-7||i==a-3&&a>7&&p>a-7)&&(d+='<button type="button" class="pagination-container__button" data-id="'.concat(p,'">').concat(p,"</button>"));return a>2&&a!==i&&(d+='<button type="button" class="pagination-container__next-button">&#8658\n    </button>'),u.refs.paginationNumbers.innerHTML=d,b=document.querySelectorAll(".pagination-numbers button"),function(){var t=document.querySelector('button[data-id="1"]'),e=document.querySelector('button[data-id="'.concat(a,'"')),n=document.createElement("button");n.textContent="...",n.classList.add("pagination-container__first-dot-button");var o=document.createElement("button");o.textContent="...",o.classList.add("pagination-container__last-dot-button"),i>4&&t.after(n),i<a-3&&e.before(o)}(),b.forEach((function(t){t.classList.remove("pagination-container__button--active"),t.textContent==i&&t.classList.add("pagination-container__button--active")})),b.forEach((function(e){var n;e.addEventListener("click",(n=(0,o.default)((function(e){var n,a,o,u,d,p,b;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return e.target.classList.contains("pagination-container__button")?(n=e.target.textContent,[4,(0,s.getGenresIdsList)()]):[3,4];case 1:return a=r.sent(),[4,f.getSearch(t,n)];case 2:return[4,r.sent().results];case 3:return o=r.sent(),(0,c.renderMoviesList)(o,a),g(t,n),(0,l.addToggleModal)(),[3,12];case 4:return e.target.classList.contains("pagination-container__prev-button")?(i--,[4,(0,s.getGenresIdsList)()]):[3,8];case 5:return u=r.sent(),[4,f.getSearch(t,i)];case 6:return[4,r.sent().results];case 7:return d=r.sent(),(0,c.renderMoviesList)(d,u),g(t,i),(0,l.addToggleModal)(),[3,12];case 8:return e.target.classList.contains("pagination-container__next-button")?(i++,[4,(0,s.getGenresIdsList)()]):[3,12];case 9:return p=r.sent(),[4,f.getSearch(t,i)];case 10:return[4,r.sent().results];case 11:b=r.sent(),(0,c.renderMoviesList)(b,p),g(t,i),(0,l.addToggleModal)(),r.label=12;case 12:return[2]}}))})),function(t){return n.apply(this,arguments)}))})),[2]}}))})),p.apply(this,arguments)}var b=new(0,d.Loader),_=new(0,i.FetchApiMovies);function v(){return(v=(0,o.default)((function(t){var e,n,a;return(0,r.__generator)(this,(function(o){switch(o.label){case 0:return t.preventDefault(),b.on(),[4,(0,s.getGenresIdsList)()];case 1:return e=o.sent(),n=u.refs.formInput.value.trim(),[4,_.getSearch(n,1)];case 2:return[4,o.sent().results];case 3:return 0===(a=o.sent()).length?(b.off(),u.refs.notification.classList.remove("off"),setTimeout((function(){u.refs.notification.classList.add("off")}),2e3),[2]):((0,c.renderMoviesList)(a,e),g(n,1),(0,l.addToggleModal)(),b.off(),[2])}}))}))).apply(this,arguments)}u.refs.searchForm.addEventListener("submit",(function(t){return v.apply(this,arguments)}));o=a("7pbsT"),r=a("4tSb9"),u=a("cqmI4"),i=a("lfqeF"),l=a("8BR1R");var h=new(0,i.FetchApiMovies);function m(t){return L.apply(this,arguments)}function L(){return(L=(0,o.default)((function(t){var e,n,a,o,s,i;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return u.refs.paginationNumbers.innerHTML="",[4,h.getTrending(t)];case 1:return[4,(e=r.sent()).total_pages];case 2:return n=r.sent(),[4,e.page];case 3:for(a=r.sent(),o="",a>1&&(o+='<button type="button" class="pagination-container__prev-button">\n    &#8656\n</button>'),s=1;s<=n;s+=1)(1==s||s==n||s==a||s>a&&s<=a+2||s<a&&s>=a-2||1==a&&n>4&&s<8||2==a&&n>5&&s<8||3==a&&n>6&&s<8||4==a&&n>7&&s<8||a==n&&n>7&&s>n-7||a==n-1&&n>7&&s>n-7||a==n-2&&n>7&&s>n-7||a==n-3&&n>7&&s>n-7)&&(o+='<button type="button" class="pagination-container__button" data-id="'.concat(s,'">').concat(s,"</button>"));return n>2&&n!==a&&(o+='<button type="button" class="pagination-container__next-button">&#8658\n    </button>'),u.refs.paginationNumbers.innerHTML=o,i=document.querySelectorAll(".pagination-numbers button"),function(){var t=document.querySelector('button[data-id="1"]'),e=document.querySelector('button[data-id="'.concat(n,'"')),o=document.createElement("button");o.textContent="...",o.classList.add("pagination-container__first-dot-button");var r=document.createElement("button");r.textContent="...",r.classList.add("pagination-container__last-dot-button"),a>4&&t.after(o),a<n-3&&e.before(r)}(),i.forEach((function(t){t.classList.remove("pagination-container__button--active"),t.textContent==a&&t.classList.add("pagination-container__button--active")})),i.forEach((function(t){t.addEventListener("click",(function(t){t.target.classList.contains("pagination-container__button")?S(t.target.textContent).then((function(){(0,l.addToggleModal)()})):t.target.classList.contains("pagination-container__prev-button")?S(--a).then((function(){(0,l.addToggleModal)()})):t.target.classList.contains("pagination-container__next-button")&&S(++a).then((function(){(0,l.addToggleModal)()}))}))})),[2]}}))}))).apply(this,arguments)}l=a("8BR1R");a("jVvgm"),a("5UrZj"),a("cqmI4");i=a("lfqeF"),d=a("iPy5Q");var y=new(0,i.FetchApiMovies),w=new(0,d.Loader);function S(t){return T.apply(this,arguments)}function T(){return(T=(0,o.default)((function(t){var e,n;return(0,r.__generator)(this,(function(a){switch(a.label){case 0:return[4,(0,s.getGenresIdsList)()];case 1:return e=a.sent(),[4,y.getTrending(t)];case 2:return[4,a.sent().results];case 3:return n=a.sent(),(0,c.renderMoviesList)(n,e),m(t),w.off(),[2]}}))}))).apply(this,arguments)}S(1).then((function(){(0,l.addToggleModal)()}));"alredy shown"!=sessionStorage.getItem("alreadyShow")?(setTimeout((function(){document.querySelector(".welcome-overlay").classList.add("off"),document.querySelector(".welcome-text").classList.add("off")}),1e3),sessionStorage.setItem("alreadyShow","alredy shown")):(w.on(),document.querySelector(".welcome-overlay").classList.add("off"),document.querySelector(".welcome-text").classList.add("off"))}();
//# sourceMappingURL=index.b2f53f99.js.map
