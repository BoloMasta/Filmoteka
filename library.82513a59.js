!function(){var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},o={},t={},i=e.parcelRequire62bd;null==i&&((i=function(e){if(e in o)return o[e].exports;if(e in t){var i=t[e];delete t[e];var n={id:e,exports:{}};return o[e]=n,i.call(n.exports,n,n.exports),n.exports}var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,o){t[e]=o},e.parcelRequire62bd=i),i.register("8BR1R",(function(e,o){var t,n,r,d;t=e.exports,n="addToggleModal",r=function(){return m},Object.defineProperty(t,n,{get:r,set:d,enumerable:!0,configurable:!0});var a=i("cqmI4");i("1fAZO");var l=i("lfqeF");i("jPljR");var c=i("6kpMs"),u=(i("6kpMs"),c=i("6kpMs"),i("e07ZM")),s=new(0,i("iPy5Q").Loader);new(0,l.FetchApiMovies);function m(){var e={modalOpen:document.querySelectorAll("[data-modal-open]"),modalClose:document.querySelector("[data-modal-close]"),modalBackdrop:document.querySelector(".modal-movie__backdrop")};function o(){e.modalBackdrop.classList.remove("modal-movie__backdrop--is-hidden"),window.addEventListener("keydown",i)}function t(){e.modalBackdrop.classList.add("modal-movie__backdrop--is-hidden")}function i(e){"Escape"===e.code&&t()}e.modalOpen.forEach((function(e){e.addEventListener("click",o)})),e.modalClose.addEventListener("click",t),e.modalBackdrop.addEventListener("click",(function(e){e.target==e.currentTarget&&t()}))}var v=document.querySelector(".modal-movie__poster--img"),f=document.querySelector(".modal-movie__title"),p=document.querySelector(".modal-movie__vote"),L=document.querySelector(".modal-movie__votes"),_=document.querySelector(".modal-movie__popularity"),y=document.querySelector(".modal-movie__original-title"),q=document.querySelector(".modal-movie__genre"),h=document.querySelector(".modal-movie__text"),g=document.querySelector(".modal-movie__button--watched"),M=document.querySelector(".modal-movie__button--queue");document.querySelectorAll(".movie-card__item").forEach((function(e){var o,t;e.addEventListener("click",(function(o){v.src="",f.innerHTML="",p.innerHTML="",L.innerHTML="",_.innerHTML="",y.innerHTML="",q.innerHTML="",h.innerHTML="",g.dataset.id="",M.dataset.id="",o.preventDefault();var t=e.dataset.id;!function(e){e.id,e.poster_path,e.title,e.original_title,e.popularity,e.overview,e.genres,e.vote_average,e.vote_count}(getMovieDetails(t)),s.off()}));var i=l.FetchApiMovies.getMovieDetails(id);console.log(i);var n=!1,r=!1;null===(o=(0,c.load)("watchedList"))||void 0===o||o.forEach((function(e){e.id==id&&(n=!0)})),null===(t=(0,c.load)("queueList"))||void 0===t||t.forEach((function(e){e.id==id&&(r=!0)}));var d=document.querySelector("modal-movie__button--watched"),m=document.querySelector("modal-movie__button--queue");n&&(d.innerHTML="On List"),r&&(m.innerHTML="On List");var b=function(e,o,t){var i;null!=t&&("watched"===t?i=n:"queue"===t&&(i=r),i?((0,c.removeFromLibrary)(id,o),e.innerHTML="Add to ".concat(t)):((0,c.addToLibrary)(id,o),e.innerHTML="Added"),"watched"===t?n=!n:"queue"===t&&(r=!r))};d.addEventListener("click",(function(){if(b(d,"watchedList","watched"),document.location.href.includes("library")&&"watched"===a.refs.moviesList.dataset.listtype){var e=(0,c.load)("watchedList");(0,u.getAllLibraryMovies)(e,"watchedList")}})),m.addEventListener("click",(function(){if(b(m,"queueList","queue"),document.location.href.includes("library")&&"queue"===a.refs.moviesList.dataset.listtype){var e=(0,c.load)("queueList");(0,u.getAllLibraryMovies)(e,"queueList")}}))}))}))}();
//# sourceMappingURL=library.82513a59.js.map
