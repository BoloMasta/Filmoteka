var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},e={},n={},a=t.parcelRequire62bd;null==a&&((a=function(t){if(t in e)return e[t].exports;if(t in n){var a=n[t];delete n[t];var o={id:t,exports:{}};return e[t]=o,a.call(o.exports,o,o.exports),o.exports}var i=new Error("Cannot find module '"+t+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(t,e){n[t]=e},t.parcelRequire62bd=a);var o=a("blmqA"),i=a("gIXsy"),s=a("24ni3"),r=a("3ILHO"),c=(a("blmqA"),i=a("gIXsy"),a("24ni3"),a("8IXMh")),d=a("adAgQ");r=a("3ILHO"),i=a("gIXsy"),s=a("24ni3"),o=a("blmqA"),c=a("8IXMh");const l=new(0,i.FetchApiMovies);async function u(t,e){r.refs.paginationNumbers.innerHTML="";const n=await l.getSearch(t,e);console.log(n);const a=await n.total_pages;let i=await n.page,d="";i>1&&(d+='<button type="button" class="pagination-container__prev-button">\n    &#8656\n</button>');for(let t=1;t<=a;t+=1)(1==t||t==a||t==i||t>i&&t<=i+2||t<i&&t>=i-2||1==i&&a>4&&t<8||2==i&&a>5&&t<8||3==i&&a>6&&t<8||4==i&&a>7&&t<8||i==a&&a>7&&t>a-7||i==a-1&&a>7&&t>a-7||i==a-2&&a>7&&t>a-7||i==a-3&&a>7&&t>a-7)&&(d+=`<button type="button" class="pagination-container__button" data-id="${t}">${t}</button>`);a>2&&a!==i&&(d+='<button type="button" class="pagination-container__next-button">&#8658\n    </button>'),r.refs.paginationNumbers.innerHTML=d;const g=document.querySelectorAll(".pagination-numbers button");!function(){const t=document.querySelector('button[data-id="1"]'),e=document.querySelector(`button[data-id="${a}"`),n=document.createElement("button");n.textContent="...",n.classList.add("pagination-container__first-dot-button");const o=document.createElement("button");o.textContent="...",o.classList.add("pagination-container__last-dot-button"),i>4&&t.after(n),i<a-3&&e.before(o)}(),g.forEach((t=>{t.classList.remove("pagination-container__button--active"),t.textContent==i&&t.classList.add("pagination-container__button--active")})),g.forEach((e=>{e.addEventListener("click",(async e=>{if(e.target.classList.contains("pagination-container__button")){let n=e.target.textContent;const a=await(0,o.getGenresIdsList)(),i=await l.getSearch(t,n),r=await i.results;(0,s.renderMoviesList)(r,a),u(t,n),(0,c.addToggleModal)()}else if(e.target.classList.contains("pagination-container__prev-button")){i--;const e=await(0,o.getGenresIdsList)(),n=await l.getSearch(t,i),a=await n.results;(0,s.renderMoviesList)(a,e),u(t,i),(0,c.addToggleModal)()}else if(e.target.classList.contains("pagination-container__next-button")){i++;const e=await(0,o.getGenresIdsList)(),n=await l.getSearch(t,i),a=await n.results;(0,s.renderMoviesList)(a,e),u(t,i),(0,c.addToggleModal)()}}))}))}const g=new(0,d.Loader),f=new(0,i.FetchApiMovies);r.refs.searchForm.addEventListener("submit",(async function(t){t.preventDefault(),g.on();const e=await(0,o.getGenresIdsList)(),n=r.refs.formInput.value.trim(),a=await f.getSearch(n,1),i=await a.results;if(0===i.length)return g.off(),r.refs.notification.classList.remove("off"),void setTimeout((()=>{r.refs.notification.classList.add("off")}),2e3);(0,s.renderMoviesList)(i,e),u(n,1),(0,c.addToggleModal)(),g.off()}));r=a("3ILHO"),i=a("gIXsy"),c=a("8IXMh");const b=new(0,i.FetchApiMovies);async function p(t){r.refs.paginationNumbers.innerHTML="";const e=await b.getTrending(t),n=await e.total_pages;let a=await e.page,o="";a>1&&(o+='<button type="button" class="pagination-container__prev-button">\n    &#8656\n</button>');for(let t=1;t<=n;t+=1)(1==t||t==n||t==a||t>a&&t<=a+2||t<a&&t>=a-2||1==a&&n>4&&t<8||2==a&&n>5&&t<8||3==a&&n>6&&t<8||4==a&&n>7&&t<8||a==n&&n>7&&t>n-7||a==n-1&&n>7&&t>n-7||a==n-2&&n>7&&t>n-7||a==n-3&&n>7&&t>n-7)&&(o+=`<button type="button" class="pagination-container__button" data-id="${t}">${t}</button>`);n>2&&n!==a&&(o+='<button type="button" class="pagination-container__next-button">&#8658\n    </button>'),r.refs.paginationNumbers.innerHTML=o;const i=document.querySelectorAll(".pagination-numbers button");!function(){const t=document.querySelector('button[data-id="1"]'),e=document.querySelector(`button[data-id="${n}"`),o=document.createElement("button");o.textContent="...",o.classList.add("pagination-container__first-dot-button");const i=document.createElement("button");i.textContent="...",i.classList.add("pagination-container__last-dot-button"),a>4&&t.after(o),a<n-3&&e.before(i)}(),i.forEach((t=>{t.classList.remove("pagination-container__button--active"),t.textContent==a&&t.classList.add("pagination-container__button--active")})),i.forEach((t=>{t.addEventListener("click",(t=>{if(t.target.classList.contains("pagination-container__button")){m(t.target.textContent).then((()=>{(0,c.addToggleModal)()}))}else t.target.classList.contains("pagination-container__prev-button")?(a--,m(a).then((()=>{(0,c.addToggleModal)()}))):t.target.classList.contains("pagination-container__next-button")&&(a++,m(a).then((()=>{(0,c.addToggleModal)()})))}))}))}c=a("8IXMh");a("eDptM"),a("gNiep"),a("3ILHO");i=a("gIXsy"),d=a("adAgQ");const L=new(0,i.FetchApiMovies),_=new(0,d.Loader);async function m(t){const e=await(0,o.getGenresIdsList)(),n=await L.getTrending(t),a=await n.results;(0,s.renderMoviesList)(a,e),p(t),_.off()}m(1).then((()=>{(0,c.addToggleModal)()}));"alredy shown"!=sessionStorage.getItem("alreadyShow")?(setTimeout((()=>{document.querySelector(".welcome-overlay").classList.add("off"),document.querySelector(".welcome-text").classList.add("off")}),1e3),sessionStorage.setItem("alreadyShow","alredy shown")):(_.on(),document.querySelector(".welcome-overlay").classList.add("off"),document.querySelector(".welcome-text").classList.add("off"));
//# sourceMappingURL=index.d468e957.js.map
