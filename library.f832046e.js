var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},o={},i=e.parcelRequire62bd;null==i&&((i=function(e){if(e in t)return t[e].exports;if(e in o){var i=o[e];delete o[e];var d={id:e,exports:{}};return t[e]=d,i.call(d.exports,d,d.exports),d.exports}var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,t){o[e]=t},e.parcelRequire62bd=i),i.register("8IXMh",(function(e,t){var o,d,r,n;o=e.exports,d="addToggleModal",r=function(){return s},Object.defineProperty(o,d,{get:r,set:n,enumerable:!0,configurable:!0});var l=i("3ILHO");i("blmqA");var a=i("gIXsy");i("24ni3");var c=i("31AGq"),u=(i("31AGq"),c=i("31AGq"),i("dd0jq"));function s(){const e={modalClose:document.querySelector("[data-modal-close]"),modalData:document.querySelector(".modal-movie__backdrop")};function t(){e.modalData.classList.toggle("modal-movie__backdrop--is-hidden")}document.querySelectorAll("[data-modal-open]").forEach((e=>{e.addEventListener("click",t)})),e.modalClose.addEventListener("click",t)}i("adAgQ");const m=document.querySelector(".modal-movie__poster--img"),v=document.querySelector(".modal-movie__title"),L=document.querySelector(".modal-movie__vote"),q=document.querySelector(".modal-movie__votes"),f=document.querySelector(".modal-movie__popularity"),_=document.querySelector(".modal-movie__original-title"),y=document.querySelector(".modal-movie__genre"),p=document.querySelector(".modal-movie__text"),b=document.querySelector(".modal-movie__button--watched"),g=document.querySelector(".modal-movie__button--queue");document.querySelectorAll(".movie-card__item").forEach((e=>{var t,o;e.addEventListener("click",(t=>{m.src="",v.innerHTML="",L.innerHTML="",q.innerHTML="",f.innerHTML="",_.innerHTML="",y.innerHTML="",p.innerHTML="",b.dataset.id="",g.dataset.id="",t.preventDefault();const o=e.dataset.id;getMovieDetails(o)}));const i=a.FetchApiMovies.getMovieDetails(id);console.log(i);let d=!1,r=!1;null===(t=(0,c.load)("watchedList"))||void 0===t||t.forEach((e=>{e.id==id&&(d=!0)})),null===(o=(0,c.load)("queueList"))||void 0===o||o.forEach((e=>{e.id==id&&(r=!0)}));let n=document.querySelector("modal-movie__button--watched"),s=document.querySelector("modal-movie__button--queue");d&&(n.innerHTML="On List"),r&&(s.innerHTML="On List");const h=(e,t,o)=>{let i;null!=o&&("watched"===o?i=d:"queue"===o&&(i=r),i?((0,c.removeFromLibrary)(id,t),e.innerHTML=`Add to ${o}`):((0,c.addToLibrary)(id,t),e.innerHTML="Added"),"watched"===o?d=!d:"queue"===o&&(r=!r))};n.addEventListener("click",(()=>{if(h(n,"watchedList","watched"),document.location.href.includes("library")&&"watched"===l.refs.moviesList.dataset.listtype){let e=(0,c.load)("watchedList");(0,u.getAllLibraryMovies)(e,"watchedList")}})),s.addEventListener("click",(()=>{if(h(s,"queueList","queue"),document.location.href.includes("library")&&"queue"===l.refs.moviesList.dataset.listtype){let e=(0,c.load)("queueList");(0,u.getAllLibraryMovies)(e,"queueList")}}))}))}));
//# sourceMappingURL=library.f832046e.js.map
