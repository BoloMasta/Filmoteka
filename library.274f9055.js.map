{"mappings":"8hBAOO,SAASA,IACd,IAAMC,EAAY,CAChBC,WAAYC,SAASC,cAAc,sBACnCC,UAAWF,SAASC,cAAc,2BAGpC,SAASE,IACPL,EAAUI,UAAUE,UAAUC,OAAO,mCACvC,CAEAL,SAASM,iBAAiB,qBAAqBC,SAAQ,SAAAC,GACrDA,EAAMC,iBAAiB,QAASN,EAClC,IAEAL,EAAUC,WAAWU,iBAAiB,QAASN,EAKjD,C,6HA1BAO,EAAA,S,4CA6BA,IAAMC,EAAmBX,SAASC,cAAc,6BAE1CW,EAAkBZ,SAASC,cAAc,uBAEzCY,EAAiBb,SAASC,cAAc,sBACxCa,EAAkBd,SAASC,cAAc,uBACzCc,EAAuBf,SAASC,cAAc,4BAC9Ce,EAA0BhB,SAASC,cAAc,gCACjDgB,EAAkBjB,SAASC,cAAc,uBAEzCiB,EAAwBlB,SAASC,cAAc,sBAE/CkB,EAA0BnB,SAASC,cAAc,iCACjDmB,EAAyBpB,SAASC,cAAc,+BAE7BD,SAASM,iBAAiB,qBAClCC,SAAS,SAAAc,GACtBA,EAAMZ,iBAAiB,SAAS,SAAAa,GAExBX,EAAiBY,IAAM,GACvBX,EAAgBY,UAAY,GAC5BX,EAAeW,UAAY,GAC3BV,EAAgBU,UAAY,GAC5BT,EAAqBS,UAAY,GACjCR,EAAwBQ,UAAY,GACpCP,EAAgBO,UAAY,GAC5BN,EAAsBM,UAAY,GAElCL,EAAwBM,QAAQC,GAAK,GACrCN,EAAuBK,QAAQC,GAAK,GAE1CJ,EAAMK,iBAEN,IAAMC,EAAUP,EAAMI,QAAQC,IAQlC,SAA2BG,KAACH,GAADG,EAAKC,YAALD,EAAkBE,MAAlBF,EAAyBG,eAAzBH,EAAyCI,WAAzCJ,EAAqDK,SAArDL,EAA+DM,OAA/DN,EAAuEO,aAAvEP,EAAqFQ,UAahH,CAlBIC,CAFkBC,gBAAgBX,GAGpC,GACF,G","sources":["src/js/components/modal.js"],"sourcesContent":["import { refs } from '../refs/refs';\nimport { getGenresIdsList } from '../api/getGenresIdsList';\nimport { FetchApiMovies } from '../api/fetchMovies';\nimport { renderMoviesList } from '../templates/renderMovies';\nimport { Loader } from './loader';\n\n\nexport function addToggleModal() {\n  const refsModal = {\n    modalClose: document.querySelector('[data-modal-close]'),\n    modalData: document.querySelector('.modal-movie__backdrop'),\n  };\n\n  function toggleModal() {\n    refsModal.modalData.classList.toggle('modal-movie__backdrop--is-hidden');\n  }\n\n  document.querySelectorAll('[data-modal-open]').forEach(modal => {\n    modal.addEventListener('click', toggleModal);\n  });\n\n  refsModal.modalClose.addEventListener('click', toggleModal);\n\n  // document\n  //   .querySelector('[data-modal-close]')\n  //   .addEventListener('click', toggleModal);\n}\n\n\nconst modalMoviePoster = document.querySelector('.modal-movie__poster--img');\n\nconst modalMovieTitle = document.querySelector('.modal-movie__title');\n\nconst modalMovieVote = document.querySelector('.modal-movie__vote');\nconst modalMovieVotes = document.querySelector('.modal-movie__votes');\nconst modalMoviePopularity = document.querySelector('.modal-movie__popularity');\nconst modalMovieOriginalTitle = document.querySelector('.modal-movie__original-title');\nconst modalMovieGenre = document.querySelector('.modal-movie__genre');\n\nconst modalMovieDescription = document.querySelector('.modal-movie__text');\n\nconst modalMovieButtonWatched = document.querySelector('.modal-movie__button--watched');\nconst modalMovieButtonQueued = document.querySelector('.modal-movie__button--queue');\n\nconst createModalMovie = document.querySelectorAll('.movie-card__item');\ncreateModalMovie.forEach (movie => {\n    movie.addEventListener('click', event => {\n\n            modalMoviePoster.src = '';\n            modalMovieTitle.innerHTML = '';\n            modalMovieVote.innerHTML = '';\n            modalMovieVotes.innerHTML = '';\n            modalMoviePopularity.innerHTML = '';\n            modalMovieOriginalTitle.innerHTML = '';\n            modalMovieGenre.innerHTML = '';\n            modalMovieDescription.innerHTML = '';\n\n            modalMovieButtonWatched.dataset.id = '';\n            modalMovieButtonQueued.dataset.id = '';\n\n      event.preventDefault();\n\n      const movieId = movie.dataset.id;\n      const movieData = getMovieDetails(movieId);\n      \n      MovieModalMurkup(movieData);\n    });\n  })\n  \n\n  function MovieModalMurkup ({id, poster_path, title, original_title, popularity, overview, genres, vote_average, vote_count,}) {\n    return\n        modalMoviePoster.src=`https://image.tmdb.org/t/p/w500${movie.poster_path}`;\n        modalMovieTitle.innerHTML = `${movie.title}`;\n        modalMovieVote.innerHTML = `${movie.vote_average}`;\n        modalMovieVotes.innerHTML = `${movie.vote_count}`;\n        modalMoviePopularity.innerHTML = `${movie.popularity}`;\n        modalMovieOriginalTitle.innerHTML = `${movie.original_title}`;\n        modalMovieGenre.innerHTML = `${movie.genres.map(genre => genre.name).join(', ')}`;\n        modalMovieDescription.innerHTML = `${movie.overview}`;\n  \n        modalMovieButtonWatched.dataset.id = movie.id;\n        modalMovieButtonQueued.dataset.id = movie.id;\n  };\n\n\n\n"],"names":["$644ae9dfa4ed5fd0$export$58a2b242c2da4af2","refsModal","modalClose","document","querySelector","modalData","toggleModal","classList","toggle","querySelectorAll","forEach","modal","addEventListener","parcelRequire","$644ae9dfa4ed5fd0$var$modalMoviePoster","$644ae9dfa4ed5fd0$var$modalMovieTitle","$644ae9dfa4ed5fd0$var$modalMovieVote","$644ae9dfa4ed5fd0$var$modalMovieVotes","$644ae9dfa4ed5fd0$var$modalMoviePopularity","$644ae9dfa4ed5fd0$var$modalMovieOriginalTitle","$644ae9dfa4ed5fd0$var$modalMovieGenre","$644ae9dfa4ed5fd0$var$modalMovieDescription","$644ae9dfa4ed5fd0$var$modalMovieButtonWatched","$644ae9dfa4ed5fd0$var$modalMovieButtonQueued","movie","event","src","innerHTML","dataset","id","preventDefault","movieId","param","poster_path","title","original_title","popularity","overview","genres","vote_average","vote_count","$644ae9dfa4ed5fd0$var$MovieModalMurkup","getMovieDetails"],"version":3,"file":"library.274f9055.js.map"}