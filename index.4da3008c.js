var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},e={},n={},o=t.parcelRequire62bd;null==o&&((o=function(t){if(t in e)return e[t].exports;if(t in n){var o=n[t];delete n[t];var a={id:t,exports:{}};return e[t]=a,o.call(a.exports,a,a.exports),a.exports}var i=new Error("Cannot find module '"+t+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(t,e){n[t]=e},t.parcelRequire62bd=o);var a=o("blmqA"),i=o("gIXsy"),r=o("24ni3"),s=o("3ILHO"),d=(a=o("blmqA"),i=o("gIXsy"),r=o("24ni3"),o("8IXMh"));const c=new(0,(y=o("adAgQ")).Loader),l=new(0,i.FetchApiMovies);s.refs.searchForm.addEventListener("submit",(async function(t){t.preventDefault(),c.on();const e=await(0,a.getGenresIdsList)(),n=s.refs.formInput.value.trim(),o=await l.getSearch(n,1),i=await o.results;if(s.refs.formInput.value="",0===i.length)return c.off(),s.refs.notification.classList.remove("off"),void setTimeout((()=>{s.refs.notification.classList.add("off")}),2e3);(0,r.renderMoviesList)(i,e),(0,d.addToggleModal)(),s.refs.paginationContainer.innerHTML="",c.off()}));s=o("3ILHO");const u=new(0,(i=o("gIXsy")).FetchApiMovies);async function f(t){const e=await u.getTrending(t),n=await e.total_pages;let o=await e.page,a="";for(let t=1;t<=n;t+=1)(1==t||t==n||t==o||t>o&&t<=o+2||t<o&&t>=o-2||1==o&&n>4&&t<8||2==o&&n>5&&t<8||3==o&&n>6&&t<8||4==o&&n>7&&t<7||o==n&&n>7&&t>n-7||o==n-1&&n>7&&t>n-7||o==n-2&&n>7&&t>n-7)&&(a+=`<button class="pagination-container__button" data-id="${t}">${t}</button>`);s.refs.paginationContainer.innerHTML=a;const i=document.querySelectorAll(".pagination-numbers button");n>1&&(s.refs.prevButton.removeAttribute("hidden"),s.refs.nextButton.removeAttribute("hidden")),function(){const t=document.querySelector('button[data-id="1"]'),e=document.querySelector(`button[data-id="${n}"`),a=document.createElement("button");a.textContent="...",a.classList.add("pagination-container__first-dot-button");const i=document.createElement("button");i.textContent="...",i.classList.add("pagination-container__last-dot-button"),o>3&&t.after(a),o<=n-3&&e.before(i)}(),handleActiveButton=()=>{i.forEach((t=>{t.classList.remove("pagination-container__button--active"),t.textContent==o&&t.classList.add("pagination-container__button--active")}))};const r=t=>{t.classList.add("disabled"),t.setAttribute("disabled",!0)},d=t=>{t.classList.remove("disabled"),t.removeAttribute("disabled")};s.refs.nextButton.addEventListener("click",(()=>{o++,h(o)})),s.refs.prevButton.addEventListener("click",(()=>{o--,h(o)})),1==o?(r(s.refs.prevButton),s.refs.prevButton.style.opacity="0.4"):(d(s.refs.prevButton),s.refs.prevButton.style.opacity="1"),o==n?(r(s.refs.nextButton),s.refs.nextButton.style.opacity="0.4"):(d(s.refs.nextButton),s.refs.nextButton.style.opacity="1"),handleActiveButton(),i.forEach((t=>{t.addEventListener("click",(t=>{const e=t.target.textContent;console.log(e),h(e)}))}))}d=o("8IXMh");document.getElementById("year").innerHTML=(new Date).getFullYear();const g=document.querySelector(".footer__button"),m=document.querySelector("[data-modal-team]"),v=document.querySelector("[data-modal-team-close]"),p=document.querySelector("body");document.querySelector(".footer");function b(){m.classList.toggle("is-hidden"),p.classList.toggle("no-scroll")}g.addEventListener("click",b),v.addEventListener("click",b);i=o("gIXsy");var y=o("adAgQ");const L=new(0,i.FetchApiMovies),w=new(0,y.Loader);async function h(t){const e=await(0,a.getGenresIdsList)(),n=await L.getTrending(t),o=await n.results;(0,r.renderMoviesList)(o,e),f(t),w.off()}h(1).then((()=>{(0,d.addToggleModal)()}));setTimeout((()=>{document.querySelector(".welcome-overlay").classList.add("off"),document.querySelector(".welcome-text").classList.add("off")}),700);
//# sourceMappingURL=index.4da3008c.js.map
