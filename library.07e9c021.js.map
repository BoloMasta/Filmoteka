{"mappings":"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","sources":["src/js/library/localStorage.js","src/js/library/helper.js","node_modules/@swc/helpers/src/_define_property.mjs","node_modules/@swc/helpers/src/_object_spread_props.mjs","node_modules/@swc/helpers/src/_array_like_to_array.mjs","node_modules/@swc/helpers/src/_array_without_holes.mjs","node_modules/@swc/helpers/src/_iterable_to_array.mjs","node_modules/@swc/helpers/src/_non_iterable_spread.mjs","node_modules/@swc/helpers/src/_unsupported_iterable_to_array.mjs","node_modules/@swc/helpers/src/_to_consumable_array.mjs","node_modules/@swc/helpers/src/_object_spread.mjs","src/library.js"],"sourcesContent":["// zapisać w pamięci lokalnej przeglądarki użytkownika\nexport const save = (key, value) => {\n  try {\n    const serializedState = JSON.stringify(value);\n    localStorage.setItem(key, serializedState);\n  } catch (error) {\n    console.error('Set state error: ', error.message);\n  }\n};\n\n// ładowanie\nexport const load = key => {\n  try {\n    const serializedState = localStorage.getItem(key);\n    return serializedState === null ? undefined : JSON.parse(serializedState);\n  } catch (error) {\n    console.error('Get state error: ', error.message);\n  }\n};\n\n//usuwanie\nexport const remove = key => {\n  try {\n    localStorage.removeItem(key);\n  } catch (error) {\n    console.error('Get state error: ', error.message);\n  }\n};\n\n\n\n\n// export const addToLibrary = (movieId, type, listType = 'watchedList') => {\n//   const libraryList = load(listType);\n//   if (libraryList == undefined) {\n//     let tempWatchedList = [];\n//     tempWatchedList.push({\n//       movieId,\n//       type,\n//     });\n//     return save(listType, tempWatchedList);\n//   }\n\n//   let alreadyInList = false;\n//   libraryList.forEach(movie => {\n//     if (movie.id == movieId && movie.type === type) {\n//       alreadyInList = true;\n//     }\n//   });\n\n//   if (alreadyInList) return alert('Movie already on the list.');\n\n//   libraryList.push({\n//     movieId,\n//     type,\n//   });\n//   return save(listType, libraryList);\n// };\n\n\n// export const removeFromLibrary = (movieId, type, listType = 'watchedList') => {\n//   let libraryList = load(listType);\n\n//   libraryList = libraryList.filter(movie => {\n//     if (movie.id != movieId) {\n//       return movie;\n//     }\n//   });\n\n//   return save(listType, libraryList);\n// };\n","import { FetchApiMovies } from \"../api/fetchMovies\";\nimport { renderMoviesList } from \"../templates/renderMovies\";\nimport { refs } from \"../refs/refs\";\n\n//import { } from \"../components/modal\";\n\nexport const getAllLibraryMovies = async (libraryList, listType) => {\n  let moviesList = [];\n  refs.moviesList.innerHTML = '';\n  listType === 'watchedList'\n    ? refs.moviesList.setAttribute('data-listtype', 'watched')\n    : refs.moviesList.setAttribute('data-listtype', 'queue');\n  const tempObj = [];\n\n  if (libraryList != undefined) {\n    for (const movie of libraryList) {\n      let response = await FetchApiMovies.getMovieDetails(movie.movieId, movie.type).then(res => res);\n      response = {\n        ...response,\n        genre_ids: [...response.genres.map(genre => genre.id)],\n        media_type: movie.type,\n      };\n      tempObj.push(response);\n    }\n    moviesList = [...tempObj];\n      await renderMoviesList(moviesList);\n      addModalListenerFunction();\n  }\n};\n","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n","function ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) {\n      symbols = symbols.filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n      });\n    }\n    keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\n\nexport default function _objectSpreadProps(target, source) {\n  source = source != null ? source : {}\n  if (Object.getOwnPropertyDescriptors) {\n    Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n  } else {\n    ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(\n        target,\n        key,\n        Object.getOwnPropertyDescriptor(source, key)\n      );\n    });\n  }\n\n  return target;\n}","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n  return arr2;\n}\n","import _arrayLikeToArray from './_array_like_to_array.mjs';\n\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n}\n","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\n","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n","import _arrayLikeToArray from './_array_like_to_array.mjs';\n\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(n);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))\n    return _arrayLikeToArray(o, minLen);\n}\n","import arrayWithoutHoles from './_array_without_holes.mjs';\nimport iterableToArray from './_iterable_to_array.mjs';\nimport nonIterableSpread from './_non_iterable_spread.mjs';\nimport unsupportedIterableToArray from './_unsupported_iterable_to_array.mjs';\n\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}\n","import defineProperty from './_define_property.mjs';\n\nexport default function _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    });\n  }\n\n  return target;\n}","import './sass/index.scss';\nimport { load } from './js/library/localStorage';\nimport { getAllLibraryMovies } from './js/library/helper';\n\nconst watchedButton = document.querySelector('[js-btn-watched]');\nconst queueButton = document.querySelector('[js-btn-queue]');\n\nlet libraryList = load('watchedList');\n\nwatchedButton.addEventListener('click', () => {\n  queueButton.classList.remove('library__btn--selected');\n  watchedButton.classList.add('library__btn--selected');\n  libraryList = load('watchedList');\n  getAllLibraryMovies(libraryList, 'watchedList');\n});\nqueueButton.addEventListener('click', () => {\n  watchedButton.classList.remove('library__btn--selected');\n  queueButton.classList.add('library__btn--selected');\n  libraryList = load('queueList');\n  getAllLibraryMovies(libraryList, 'queueList');\n});\n\ngetAllLibraryMovies(libraryList, 'watchedList');"],"names":["$49b89bd679ccebf8$export$11e63f7b0f3d9900","key","serializedState","localStorage","getItem","undefined","JSON","parse","error","console","message","$7pbsT","parcelRequire","$9139f4380ced0e7c$export$2e2bcd8739ae039","obj","value","Object","defineProperty","enumerable","configurable","writable","$788065011ea6e672$export$2e2bcd8739ae039","target","source","getOwnPropertyDescriptors","defineProperties","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","push","apply","$788065011ea6e672$var$ownKeys","forEach","$27d8e5d3c1ab4d36$export$2e2bcd8739ae039","arr","len","length","i","arr2","Array","$cfe75304d7d7bda2$export$2e2bcd8739ae039","isArray","$3ccdcf01883332e1$export$2e2bcd8739ae039","iter","Symbol","iterator","from","$c46a8a009bd183d6$export$2e2bcd8739ae039","TypeError","$eb54934e352426f2$export$2e2bcd8739ae039","o","minLen","n","prototype","toString","call","slice","constructor","name","test","$b5286caf4b591fd3$export$2e2bcd8739ae039","$a31744882d02f4fb$export$bd5fb83736f582f7","default","libraryList","listType","moviesList","tempObj","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_iterator","_step","movie","response","err","$cqmI4","refs","innerHTML","setAttribute","next","done","$lfqeF","FetchApiMovies","getMovieDetails","movieId","type","then","res","arguments","ownKeys","concat","_state","sent","genre_ids","genres","map","genre","id","media_type","return","$jPljR","renderMoviesList","addModalListenerFunction","$cecbdd76f2d3d4bd$var$watchedButton","document","querySelector","$cecbdd76f2d3d4bd$var$queueButton","$cecbdd76f2d3d4bd$var$libraryList","addEventListener","classList","remove","add"],"version":3,"file":"library.07e9c021.js.map"}