{"mappings":"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","sources":["src/index.js","src/js/components/searchMovie.js","src/js/components/pagination.js","src/js/templates/footer.js"],"sourcesContent":["import { getGenresIdsList } from './js/api/getGenresIdsList';\nimport { getTrending, getSearch, getMovieDetails } from './js/api/fetchMovies';\nimport { renderMoviesList } from './js/templates/renderMovies';\nimport { onSearchFormButtonClick } from './js/components/searchMovie';\nimport { setPagination } from './js/components/pagination';\nimport { addToggleModal } from './js/components/modal';\nimport './js/templates/footer';\n\nimport { FetchApiMovies } from './js/api/fetchMovies';\nimport { Loader } from './js/components/loader';\nconst fetchApiMovies = new FetchApiMovies();\nconst loader = new Loader();\n\nlet page = 1;\n\nasync function showTrendingMovies(page) {\n  const genresList = await getGenresIdsList();\n\n  const response = await fetchApiMovies.getTrending(page);\n  const movies = await response.results;\n\n  renderMoviesList(movies, genresList);\n  setPagination(page);\n  loader.off();\n}\n\nconst showMoviesAndModal = showTrendingMovies(1).then(() => {\n  addToggleModal();\n});\n\nexport { showTrendingMovies };\n\n// close welcome modal\nsetTimeout(() => {\n  document.querySelector('.welcome-overlay').classList.add('off');\n  document.querySelector('.welcome-text').classList.add('off');\n}, 700);\n","import { refs } from '../refs/refs';\nimport { getGenresIdsList } from '../api/getGenresIdsList';\nimport { FetchApiMovies } from '../api/fetchMovies';\nimport { renderMoviesList } from '../templates/renderMovies';\nimport { addToggleModal } from '../components/modal';\nimport { Loader } from './loader';\n\nexport { onSearchFormButtonClick };\n\nconst loader = new Loader();\nconst fetchApiMovies = new FetchApiMovies();\n\nrefs.searchForm.addEventListener('submit', onSearchFormButtonClick);\n\nasync function onSearchFormButtonClick(element) {\n  element.preventDefault();\n\n  loader.on();\n\n  const genresList = await getGenresIdsList();\n  const query = refs.formInput.value.trim();\n  const response = await fetchApiMovies.getSearch(query, 1);\n  const movies = await response.results;\n\n  refs.formInput.value = '';\n\n  if (movies.length === 0) {\n    loader.off();\n    refs.notification.classList.remove('off');\n    setTimeout(() => {\n      refs.notification.classList.add('off');\n    }, 2000);\n    return;\n  }\n\n  renderMoviesList(movies, genresList);\n  addToggleModal();\n\n  refs.paginationContainer.innerHTML = '';\n  loader.off();\n}\n","import { refs } from '../refs/refs';\nimport { FetchApiMovies } from '../api/fetchMovies';\nconst fetchApiMovies = new FetchApiMovies();\nimport { showTrendingMovies } from '../../index.js';\n\nexport async function setPagination(page) {\n  const response = await fetchApiMovies.getTrending(page);\n  const totalNumberOfPages = await response.total_pages;\n  let currentPage = await response.page;\n  let paginationMArkup = '';\n\n  for (let i = 1; i <= totalNumberOfPages; i += 1) {\n    if (\n      i == 1 ||\n      i == totalNumberOfPages ||\n      i == currentPage ||\n      (i > currentPage && i <= currentPage + 2) ||\n      (i < currentPage && i >= currentPage - 2)||\n      (currentPage == 1 && totalNumberOfPages > 4 && i < 8)||\n      (currentPage == 2 && totalNumberOfPages > 5 && i < 8)||\n      (currentPage == 3 && totalNumberOfPages > 6 && i < 8)||\n      (currentPage == 4 && totalNumberOfPages > 7 && i < 7)||\n      (currentPage == totalNumberOfPages && totalNumberOfPages > 7 && i > totalNumberOfPages -7)||\n      (currentPage == totalNumberOfPages -1 && totalNumberOfPages > 7 && i > totalNumberOfPages -7)||\n      (currentPage == totalNumberOfPages -2 && totalNumberOfPages > 7 && i > totalNumberOfPages -7)\n      ) {\n      paginationMArkup += `<button class=\"pagination-container__button\" data-id=\"${i}\">${i}</button>`;\n    }\n  }\n\n  refs.paginationContainer.innerHTML = paginationMArkup;\n  const paginationButtons = document.querySelectorAll(\n    '.pagination-numbers button'\n  );\n\n  if(totalNumberOfPages > 1) {\n    refs.prevButton.removeAttribute(\"hidden\");\n    refs.nextButton.removeAttribute(\"hidden\");\n  }\n  function createDotsbuttons () {\n\n    const firstDotButtonLocation = document.querySelector('button[data-id=\"1\"]');\n    const lastDotButtonLocation = document.querySelector(`button[data-id=\"${totalNumberOfPages}\"`)\n    const firstDotButton = document.createElement(\"button\");\n    firstDotButton.textContent = \"...\";\n    firstDotButton.classList.add(\"pagination-container__first-dot-button\");\n    const lastDotButton = document.createElement(\"button\");\n    lastDotButton.textContent = \"...\";\n    lastDotButton.classList.add(\"pagination-container__last-dot-button\");\n\n    if(currentPage > 3) {\n      firstDotButtonLocation.after(firstDotButton);\n    }\n\n   if(currentPage <= totalNumberOfPages -3)\n    lastDotButtonLocation.before(lastDotButton);\n  }\n  createDotsbuttons();\n\n  handleActiveButton = () => {\n    paginationButtons.forEach(button => {\n      button.classList.remove('pagination-container__button--active');\n      let pageIndex = button.textContent;\n      if (pageIndex == currentPage) {\n        button.classList.add('pagination-container__button--active');\n      }\n    });\n  };\n\n  const disableButton = button => {\n    button.classList.add('disabled');\n    button.setAttribute('disabled', true);\n  };\n\n  const enableButton = button => {\n    button.classList.remove('disabled');\n    button.removeAttribute('disabled');\n  };\n\n  refs.nextButton.addEventListener('click', () => {\n    currentPage++;\n    showTrendingMovies(currentPage);\n  });\n\n  refs.prevButton.addEventListener('click', () => {\n    currentPage--;\n    showTrendingMovies(currentPage);\n  });\n\n  if (currentPage == 1) {\n    disableButton(refs.prevButton);\n    refs.prevButton.style.opacity = \"0.4\";\n  } else {\n    enableButton(refs.prevButton);\n    refs.prevButton.style.opacity = \"1\";\n  }\n\n  if (currentPage == totalNumberOfPages) {\n    disableButton(refs.nextButton);\n    refs.nextButton.style.opacity = \"0.4\";\n  } else {\n    enableButton(refs.nextButton);\n    refs.nextButton.style.opacity = \"1\";\n  }\n\n  handleActiveButton();\n\n  paginationButtons.forEach(button => {\n    button.addEventListener('click', event => {\n      const pageNumber = event.target.textContent;\n      console.log(pageNumber);\n      showTrendingMovies(pageNumber);\n    });\n  });\n}\n","document.getElementById('year').innerHTML = new Date().getFullYear();\n\nconst footerBntRef = document.querySelector('.footer__button');\nconst modalRef = document.querySelector('[data-modal-team]');\nconst closeModalBtnRef = document.querySelector('[data-modal-team-close]');\nconst bodyRef = document.querySelector('body');\nconst footerRef = document.querySelector('.footer');\n\nfunction toggleModalTeam() {\n  modalRef.classList.toggle('is-hidden');\n  bodyRef.classList.toggle('no-scroll');\n}\n\nfooterBntRef.addEventListener('click', toggleModalTeam);\n\ncloseModalBtnRef.addEventListener('click', toggleModalTeam);\n\nfunction onCloseModal(event) {\n  if (event.code === 'Escape') {\n      instance.close();\n      window.removeEventListener('keydown', onCloseModal)\n  };\n};"],"names":["$7pbsT","parcelRequire","$54035a6732a45c98$var$loader","Loader","$54035a6732a45c98$var$fetchApiMovies","$lfqeF","FetchApiMovies","$54035a6732a45c98$var$_onSearchFormButtonClick","default","element","genresList","query","movies","preventDefault","on","$1fAZO","getGenresIdsList","_state","sent","$cqmI4","refs","formInput","value","trim","getSearch","results","length","off","notification","classList","remove","setTimeout","add","$jPljR","renderMoviesList","$8BR1R","addToggleModal","paginationContainer","innerHTML","apply","this","arguments","searchForm","addEventListener","$5e320f9b57c6a225$var$fetchApiMovies","$5e320f9b57c6a225$export$347aea62317e2398","page","$5e320f9b57c6a225$var$_setPagination","response","totalNumberOfPages","currentPage","paginationMArkup","i","paginationButtons","disableButton","enableButton","getTrending","total_pages","concat","document","querySelectorAll","prevButton","removeAttribute","nextButton","firstDotButtonLocation","querySelector","lastDotButtonLocation","firstDotButton","createElement","textContent","lastDotButton","after","before","createDotsbuttons","handleActiveButton","forEach","button","setAttribute","$b8f9b7833fa37166$export$2e39d0d53b532317","style","opacity","event","pageNumber","target","console","log","getElementById","Date","getFullYear","$e81b975aac1139e5$var$footerBntRef","$e81b975aac1139e5$var$modalRef","$e81b975aac1139e5$var$closeModalBtnRef","$e81b975aac1139e5$var$bodyRef","$e81b975aac1139e5$var$toggleModalTeam","toggle","$b8f9b7833fa37166$var$fetchApiMovies","$b8f9b7833fa37166$var$loader","$iPy5Q","$b8f9b7833fa37166$var$_showTrendingMovies","then"],"version":3,"file":"index.365aa855.js.map"}