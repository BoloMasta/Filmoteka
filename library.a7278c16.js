var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},o={},d=e.parcelRequire62bd;null==d&&((d=function(e){if(e in t)return t[e].exports;if(e in o){var d=o[e];delete o[e];var i={id:e,exports:{}};return t[e]=i,d.call(i.exports,i,i.exports),i.exports}var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}).register=function(e,t){o[e]=t},e.parcelRequire62bd=d),d.register("8IXMh",(function(e,t){var o,i,n,r;o=e.exports,i="addToggleModal",n=function(){return v},Object.defineProperty(o,i,{get:n,set:r,enumerable:!0,configurable:!0});var a=d("3ILHO");d("blmqA");var l=d("gIXsy");d("24ni3");var c=d("31AGq"),u=(d("31AGq"),c=d("31AGq"),d("dd0jq"));const s=new(0,d("adAgQ").Loader),m=new(0,l.FetchApiMovies);function v(){const e={modalOpen:document.querySelectorAll("[data-modal-open]"),modalClose:document.querySelector("[data-modal-close]"),modalBackdrop:document.querySelector(".modal-movie__backdrop")};function t(){e.modalBackdrop.classList.remove("modal-movie__backdrop--is-hidden"),window.addEventListener("keydown",d),s.on()}function o(){e.modalBackdrop.classList.add("modal-movie__backdrop--is-hidden")}function d(e){"Escape"===e.code&&o()}e.modalOpen.forEach((e=>{e.addEventListener("click",t)})),e.modalClose.addEventListener("click",o),e.modalBackdrop.addEventListener("click",(function(e){e.target==e.currentTarget&&o()})),document.querySelectorAll(".movie-card__item").forEach((e=>{var t,o;e.addEventListener("click",(t=>{L.src="",f.innerHTML="",p.innerHTML="",_.innerHTML="",y.innerHTML="",q.innerHTML="",b.innerHTML="",h.innerHTML="",g.dataset.id="",M.dataset.id="",t.preventDefault();const o=e.id;m.getMovieDetails(o).then((e=>{!function({id:e,poster_path:t,title:o,original_title:d,popularity:i,overview:n,genres:r,vote_average:a,vote_count:l}){L.src=`https://image.tmdb.org/t/p/w500${t}`,f.innerHTML=o,p.innerHTML=a.toFixed(1),_.innerHTML=l,y.innerHTML=i.toFixed(1),q.innerHTML=d,b.innerHTML=r.map((e=>e.name)).join(", "),h.innerHTML=n,g.dataset.id=e,M.dataset.id=e}(e)})),s.off()}));let d=!1,i=!1;null===(t=(0,c.load)("watchedList"))||void 0===t||t.forEach((t=>{t.id==e.id&&(d=!0)})),null===(o=(0,c.load)("queueList"))||void 0===o||o.forEach((t=>{t.id==e.id&&(i=!0)}));let n=document.querySelector(".modal-movie__button--watched"),r=document.querySelector(".modal-movie__button--queue");d&&(n.innerHTML="On List"),i&&(r.innerHTML="On List");const l=(t,o,a)=>{let l;null!=a&&("watched"===a?l=d:"queue"===a&&(l=i),l?((0,c.removeFromLibrary)(e.id,o),t.innerHTML=`Add to ${a}`,r.disabled=!1,n.disabled=!1):((0,c.addToLibrary)(e.id,o),t.innerHTML="Added",t.style.color="#8C8C8C"),"watched"===a?(d=!d,n.disabled=!0,r.disabled=!0):"queue"===a&&(i=!i,r.disabled=!0,n.disabled=!0))};n.addEventListener("click",(()=>{if(l(n,"watchedList","watched"),document.location.href.includes("library")&&"watched"===a.refs.moviesList.dataset.listtype){let e=(0,c.load)("watchedList");(0,u.getAllLibraryMovies)(e,"watchedList")}})),r.addEventListener("click",(()=>{if(l(r,"queueList","queue"),document.location.href.includes("library")&&"queue"===a.refs.moviesList.dataset.listtype){let e=(0,c.load)("queueList");(0,u.getAllLibraryMovies)(e,"queueList")}}))}))}const L=document.querySelector(".modal-movie__poster--img"),f=document.querySelector(".modal-movie__title"),p=document.querySelector(".modal-movie__vote"),_=document.querySelector(".modal-movie__votes"),y=document.querySelector(".modal-movie__popularity"),q=document.querySelector(".modal-movie__original-title"),b=document.querySelector(".modal-movie__genre"),h=document.querySelector(".modal-movie__text"),g=document.querySelector(".modal-movie__button--watched"),M=document.querySelector(".modal-movie__button--queue")}));
//# sourceMappingURL=library.a7278c16.js.map
