!function(){var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},o={},i=e.parcelRequire62bd;null==i&&((i=function(e){if(e in t)return t[e].exports;if(e in o){var i=o[e];delete o[e];var r={id:e,exports:{}};return t[e]=r,i.call(r.exports,r,r.exports),r.exports}var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}).register=function(e,t){o[e]=t},e.parcelRequire62bd=i),i.register("8BR1R",(function(e,t){var o,r,n,d;o=e.exports,r="addToggleModal",n=function(){return s},Object.defineProperty(o,r,{get:n,set:d,enumerable:!0,configurable:!0});var a=i("cqmI4");i("1fAZO");var l=i("lfqeF");i("jPljR");var c=i("6kpMs"),u=(i("6kpMs"),c=i("6kpMs"),i("e07ZM"));function s(){var e={modalClose:document.querySelector("[data-modal-close]"),modalData:document.querySelector(".modal-movie__backdrop")};function t(){e.modalData.classList.toggle("modal-movie__backdrop--is-hidden")}document.querySelectorAll("[data-modal-open]").forEach((function(e){e.addEventListener("click",t)})),e.modalClose.addEventListener("click",t)}i("iPy5Q");var m=document.querySelector(".modal-movie__poster--img"),v=document.querySelector(".modal-movie__title"),f=document.querySelector(".modal-movie__vote"),_=document.querySelector(".modal-movie__votes"),L=document.querySelector(".modal-movie__popularity"),y=document.querySelector(".modal-movie__original-title"),p=document.querySelector(".modal-movie__genre"),q=document.querySelector(".modal-movie__text"),g=document.querySelector(".modal-movie__button--watched"),h=document.querySelector(".modal-movie__button--queue");document.querySelectorAll(".movie-card__item").forEach((function(e){var t,o;e.addEventListener("click",(function(t){m.src="",v.innerHTML="",f.innerHTML="",_.innerHTML="",L.innerHTML="",y.innerHTML="",p.innerHTML="",q.innerHTML="",g.dataset.id="",h.dataset.id="",t.preventDefault();var o=e.dataset.id;!function(e){e.id,e.poster_path,e.title,e.original_title,e.popularity,e.overview,e.genres,e.vote_average,e.vote_count}(getMovieDetails(o))}));var i=l.FetchApiMovies.getMovieDetails(id);console.log(i);var r=!1,n=!1;null===(t=(0,c.load)("watchedList"))||void 0===t||t.forEach((function(e){e.id==id&&(r=!0)})),null===(o=(0,c.load)("queueList"))||void 0===o||o.forEach((function(e){e.id==id&&(n=!0)}));var d=document.querySelector("modal-movie__button--watched"),s=document.querySelector("modal-movie__button--queue");r&&(d.innerHTML="On List"),n&&(s.innerHTML="On List");var M=function(e,t,o){var i;null!=o&&("watched"===o?i=r:"queue"===o&&(i=n),i?((0,c.removeFromLibrary)(id,t),e.innerHTML="Add to ".concat(o)):((0,c.addToLibrary)(id,t),e.innerHTML="Added"),"watched"===o?r=!r:"queue"===o&&(n=!n))};d.addEventListener("click",(function(){if(M(d,"watchedList","watched"),document.location.href.includes("library")&&"watched"===a.refs.moviesList.dataset.listtype){var e=(0,c.load)("watchedList");(0,u.getAllLibraryMovies)(e,"watchedList")}})),s.addEventListener("click",(function(){if(M(s,"queueList","queue"),document.location.href.includes("library")&&"queue"===a.refs.moviesList.dataset.listtype){var e=(0,c.load)("queueList");(0,u.getAllLibraryMovies)(e,"queueList")}}))}))}))}();
//# sourceMappingURL=library.0c2401d9.js.map
